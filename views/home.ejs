<% include partials/header.ejs %>
  
<div class="container mt-5">
  <div class="d-flex flex-row align-items-center justify-content-between">
    <h1>Home</h1>
    <a class="btn btn-outline-dark" href="/compose">Compose Post</a>
  </div>
  <hr>
  <p class="lead"><%= homeContent %></p>

  <% if(posts.length !== 0) { %>
  <div class="mt-5">
    <h1>Posts</h1>
  </div>
  <hr>
  <% } %>

  <% posts.forEach(function(post) { %>
  <div class="post">
    <h3><a class="text-dark" href="/posts/<%= post.title %>"><%= post.title %></a></h3>
    <% if(post.content.length >= 100) { %>
      <p class="lead"><%= post.content.substring(0, 100) + `...` %></p>
    <% } else { %>
      <p class="lead"><%= post.content %></p>
    <% } %>
  </div>
  <% }); %>
</div><!-- /container -->
  
<% include partials/footer.ejs %>

